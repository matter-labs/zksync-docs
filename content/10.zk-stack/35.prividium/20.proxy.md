---
title: Proxy RPC API
description: Learn about the Prividium Proxy RPC API.
---

The proxy RPC API is the main component that enables privacy in the ZKsync Stack.

In a standard rollup, there is a standard RPC API that provides full access
to transaction data for users.
The proxy RPC is an additional layer in between end users and the chain's standard RPC API.
The proxy layer enables authentication of requests to the standard RPC.

Access to the standard RPC should remain private.
We highly recommend implementing a secure firewall around the standard RPC API.
Only the proxy RPC API endpoint should be publicly shared.

## Setting up the Proxy

After your ecosystem and validium chain are setup,
you can initialize the Proxy API.

:display-partial{path="/zk-stack/prividium/_partials/quickstart/_proxy"}

## Upgrading the Proxy

To upgrade your proxy API to the latest version:

1. Run `zkstackup` to upgrade your version of `zkstack`.
1. Update the `zksync-era` repo in the ecosystem folder.
1. Delete the `private-rpc` Docker container.
1. Re-run the `zkstack private-rpc init` command.
  This command will update the chain's `private-proxy-docker-compose.yml` file,
  but won't change the `private-rpc-permissions.yaml` config.
1. Start the server with `zkstack private-rpc run`.

## Configuring the Proxy

In the generated docker compose file, you can configure
the environment variables as needed.

The service is configured through six key environment variables:

- `CORS_ORIGIN`: sets the web-origin domain that the API will accept requests from.
  It defaults to the local port where the block explorer runs.
  It can also be an array of domains separated by a comma.
- `CREATE_TOKEN_SECRET`: the shared secret used to verify clients requesting to create new access tokens.
- `PERMISSIONS_YAML_PATH`: points to the YAML file that lists the access rules enforced by the proxy.
- `DATABASE_URL`: points to the chain's PostgreSQL database.
- `PORT`: the port where the proxy itself listens (`4041` by default).
- `TARGET_RPC`: the standard internal RPC API endpoint the proxy forwards validated requests to.

## Configuring Access

To configure access to different smart contracts on your chain,
Prividium uses a simple YAML file.
Edits to the permissions file only require a restart of the Proxy service to be applied.

You can see what an example configuration file looks like below:

```ts
:code-import{filePath="prividium/example-permissions.yaml"}
```

:display-partial{path="/zk-stack/prividium/_partials/quickstart/_access"}

The example implementation showcases one approach, but it can be easily modified to accommodate unique workflows or compliance requirements.
