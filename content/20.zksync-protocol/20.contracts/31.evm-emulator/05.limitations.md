---
title: Limitations and Known Issues
description:
---

While the **EVM Bytecode Emulator** enables execution of unmodified EVM bytecode on ZKsync, there are **inherent limitations**
due to the differences between EraVM and the Ethereum Virtual Machine (EVM).
Some features are **intentionally not supported** to maintain security and system constraints, while others are limited by the architecture of EraVM.

This page outlines **unsupported features, execution constraints, and edge cases** that developers should be aware of when
deploying and interacting with EVM contracts on ZKsync.

## Unsupported Features

### **1. `delegatecall` Between EVM and EraVM Contracts**

- **EVM contracts cannot use `delegatecall` to interact with EraVM contracts.**
- **EraVM contracts cannot use `delegatecall` to interact with EVM contracts.**
- This restriction prevents **unintended access** to system-level functionality and maintains isolation between execution environments.

### **2. Unsupported Opcodes**

Same unsupported opcodes on EraVM remain unsupported using the EVM Bytecode Emulator. See the [list in the EVM differences](../../differences/evm-instructions)

### **3. No Access List Support (EIP-2930)**

- The **EVM Emulator does not implement access lists**, which are used in Ethereum to optimize gas costs by preloading storage slots and addresses.
- **All storage and account accesses follow EraVM's standard warm/cold logic**.

### **4. EVM Gas Refunds Are Not Implemented**

- Unlike Ethereum, the **EVM Emulator does not refund gas for contract deletions or storage slot resets**.
- This means gas costs for contract execution **may be higher in cases where Ethereum would provide refunds**.

---

## Execution Constraints

### **1. Gas Calculation Differences**

- The EVM Emulator runs on **EraVM gas units (`ergs`) instead of EVM gas**.
- A **fixed conversion ratio** is used to translate EVM gas to EraVM gas.
- **Since each EVM opcode requires multiple EraVM instructions, the effective execution cost is higher**.

### **2. Higher Transaction Costs Compared to Native EraVM**

- Due to opcode translation overhead, executing EVM bytecode typically costs **1.5x to 4x more** than running the equivalent
  contract compiled to native EraVM bytecode.
- Developers looking for **optimal performance and lower fees** should consider using **EraVM-native bytecode** instead of the EVM Emulator.

### **3. Contract Storage Behavior**

- **Contract storage is not explicitly cleared on deployment**, unlike Ethereum.
- This means that when a contract is deployed, any pre-existing storage at the address is **not automatically reset**.
- Developers should **manually handle storage resets** in their contract logic if needed.

### **4. Out-of-Ergs Behavior**

- If an EVM contract runs out of **EraVM ergs**, the **entire EVM call stack will revert**.
- This behavior differs from Ethereum, where gas exhaustion typically only affects the immediate execution context.
- Developers should **carefully track gas usage** to avoid unintended reverts.

---

## Edge Cases and Developer Considerations

### **1. Nonce Overflow Behavior**

- In Ethereum, when a contract deployer’s nonce overflows, **all gas is refunded**.
- In the EVM Emulator, **if a deployer's nonce overflows, all passed gas is consumed** instead of refunded.
- This difference may impact contract deployment logic in edge cases.

### **2. Missing Precompiles**

Some Ethereum precompiled contracts are **not supported.**. Please refer to the [Available Precompiles list](../../differences/pre-compiles).

### **3. Warm/Cold Storage Tracking Differs from Ethereum**

- **Only accounts accessed within the EVM environment are considered warm.**
- Any storage or account accesses from **EraVM contracts do not affect the warm/cold status** of accounts for EVM execution.

---

## Next Steps

- Learn about **[EraVM ↔ EVM contract interactions](./era-evm-interactions.md)** and how execution differs.
- Review **[differences from Ethereum (Cancun)](./evm-differences.md)** to understand major behavioral changes.
- Explore **[Technical Architecture of the EVM Emulator](./technical-details.md)** to better understand its design constraints.
